# プロジェクト概要: CIPetteLens 🚀

## 目的

**CIPetteLens**は、オープンソースツール`CIAnalyzer`をエンジンとして活用し、CI/CDプロセスの主要メトリクスを可視化する、**最小限で実用的な（MVP）**Webダッシュボードです。

このプロジェクトの主目的は、複雑なシステムを自前で構築するのではなく、既存の優れたツールを「レンズ」として利用することで、**「CI/CDダッシュボードの価値」を最速で検証する**ことです。

---
## 解決する課題

* **現状把握の手間**: CI/CDの状況を確認するために、各リポジトリの実行履歴を個別に見て回る必要がある。
* **パフォーマンス指標の欠如**: ワークフローの実行時間や成功率といった基本的な指標を、定点観測する簡単な手段がない。
* **価値検証の難しさ**: 包括的な分析ツールを導入する前に、そもそも自分たちのチームにとってダッシュボードが有用かを手軽に試したい。

---
## 基本機能

### 測定するメトリクス
* **Duration**: ワークフローの平均実行時間
* **Success Rate**: 成功率
* **Throughput**: 期間あたりの実行回数
* **MTTR**: 失敗から回復までの平均時間（※期間内のデータに基づく参考値）

### 表示機能
* リポジトリごとの主要メトリクス一覧表示
* シンプルな期間フィルタリング機能

---
## システム構成

**CIPetteLens**は、外部ツールをラップするシンプルな構成を採用します。

```
Scheduler (cron) ⟶ Engine (CIAnalyzer) ⟶ Lens (Wrapper Script) ⟶ Database (SQLite) ⟶ View (Flask/HTML)
```

1.  **Engine (`CIAnalyzer`)**: GitHub Actions APIからデータを取得し、分析レポート（JSON）を出力します。
2.  **Lens (Wrapper Script)**: `CIAnalyzer`を実行し、出力されたJSONレポートを解析して、シンプルな形式でSQLiteに保存します。
3.  **Database (SQLite)**: 収集したデータをローカルファイルとして保存します。
4.  **View (Flask/HTML)**: SQLiteのデータを読み出し、シンプルなWebページとして表示します。

---
## 期待される効果

* CI/CDプロセスの基本的な健全性を一目で把握できる。
* チーム内で開発プロセスのパフォーマンスについて会話するきっかけを作る。
* 本格的な分析ツール導入の是非を判断するための材料を得る。
